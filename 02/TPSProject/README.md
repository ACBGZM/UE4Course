第二次作业：TPSProject



具有以下功能：

- 角色的若干行为：八方向移动、跳跃、下蹲、快跑、开枪、换弹、精确瞄准
- 渲染效果：第二把武器的渐变彩色材质、镜头景深效果
- 游戏玩法
  - 游戏目标：四处走动，用子弹打到紫色靶子
  - 结束游戏（满足其一）：
    - 血量掉到0
    - 站到特殊地面上
    - 摧毁全部15个漂浮方块
  - 交互物件
    - 黄色漂浮方块：碰到后加子弹
    - 红色地板：碰到后扣血（优先扣护甲）
    - SK_Gun：碰到后获得副武器
    - 彩色地板：碰到后结束游戏
- UI
  - HUD：显示装备的武器信息、玩家的一些属性、其他一些操作提醒，进行游戏流程提示
  - 主菜单：可以开始游戏、查看操作提示、退出
  - 暂停菜单：可以继续游戏、返回主菜单
  - 结束画面：显示本局评分，可以返回主菜单



开发记录：

- 主要蓝图

  - 子弹基类。各种子弹继承自这个基类，并自定义外观、特效、声音等

  - 武器基类，定义开枪等通用行为。各种武器继承自这个基类，并自定义外观、子弹类别、子弹数量等属性。在Character蓝图中，创建一个武器基类作为Equipped Weapon，用不同的子类对象进行里氏替换

  - 爆炸类，产生特效、声音和径向力，可以复用。如手雷类，在手雷的位置生成一个爆炸

  - NoticeBlock类。交互时，传递Text参数到HUD，可以在HUD上显示自定义文本，用于提示游戏流程
  - 玩家动画蓝图，制作Idle/Walk/Run等Blend Space，实现动画融合；制作根据Spine分割的上下半身动画融合，实现玩家上半身转动瞄准方向

- 没有完全修复在主菜单就创建若干Actor，并且能看到HUD的问题。

  - 修改方法：将HUD的创建放到Level0的关卡蓝图中，在主菜单不会看到HUD了
  - 在主菜单依然有很多关卡中的Actor被创建

- 玩家动作Bug

  - Sprint到Idle的切换有bug，冲刺+方向键、松开方向键，会原地播放冲刺动画
  - 由于第三人称、斜方向视角，准星不准。
    - 修改方法：添加右键瞄准模式，瞄准模式下比较准
  - 冲刺、走路时，玩家枪口随运动而摆动，无法进行瞄准
  - 换弹跟其他动画的融合问题
